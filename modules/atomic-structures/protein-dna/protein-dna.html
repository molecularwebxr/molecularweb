<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-91563073-2"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-91563073-2");
    </script>
    <title id="title" data-i18n="macromolecules.proteinDNA.title" ></title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="/styles/base.css" />
    <link rel="stylesheet" href="/modules/styles/style.css" />

    <!-- 3D Libraries -->
    <script src="/lib/aframe.min.js"></script>
    <script src="/lib/aframe-ar.js"></script>

    <!-- Translation Libraries -->
    <script src="/lib/i18n/i18next.min.js"></script>
    <script src="/lib/i18n/i18next-wc.js"></script>
    <script src="/lib/i18n/loc-i18next.min.js"></script>
    <script src="/lib/i18n/i18nextBrowserLanguageDetector.js"></script>
    <script src="/lib/i18n/i18nextHttpBackend.min.js"></script>

    <!-- Web Components -->
    <script src="/components/back-anchor/index.js"></script>
    <script src="/components/icons/molecule/index.js"></script>
    <script src="/components/icons/tubes/index.js"></script>
    <script src="/components/loader/index.js"></script>
    <script src="/components/flip-video/index.js"></script>
    <script src="/components/flip-graphics/index.js"></script>
    <script src="/components/overlay/index.js"></script>
    <script src="/components/toggle-instructions/index.js"></script>
    <script src="/components/toggle-description/index.js"></script>
    <script src="/components/toggle-menu/index.js"></script>
    <script src="/components/reset-activity/index.js"></script>
    <script src="/components/scale-graphics/index.js"></script>
    <script src="/components/enable-gestures/index.js"></script>
    <script src="/components/rotation-controls/index.js"></script>
    <script src="/components/feedback-prompt/index.js"></script>

    <!-- Utils & A-Frame Components -->
    <script src="index.js"></script>
    <script src="/modules/utils/aframe/flip.js"></script>
    <script src="/modules/utils/aframe/scale.js"></script>
    <script src="/modules/utils/aframe/gesture-detector.js"></script>
    <script src="/modules/utils/aframe/gesture-handler.js"></script>
    <script src="/modules/utils/aframe/loader.js"></script>
    <script src="/modules/utils/aframe/rotation.js"></script>
    <script src="/modules/utils/handleTranslation.js"></script>
    <script src="/modules/utils/utils.js"></script>
    <script src="/modules/utils/colormaps.js"></script>
  </head>

  <body>
    <!-- Header -->
    <header id="header">
      <div class="row">
        <figure>
          <tubes-icon></tubes-icon>
        </figure>
        <h1
          class="activity-title"
          data-i18n="macromolecules.proteinDNA.title"
        ></h1>
      </div>
    </header>

    <!-- UI Components -->
    <back-anchor></back-anchor>
    <loader-component></loader-component>

    <!-- Feedback Modal -->
    <feedback-prompt></feedback-prompt>

    <!-- Side buttons -->
    <div class="side-menu column">
      <flip-video class="icon-margin"></flip-video>
      <flip-graphics class="icon-margin"></flip-graphics>
      <reset-activity class="icon-margin"></reset-activity>
      <scale-graphics
        class="icon-margin"
        id="scale-up"
        type="up"
      ></scale-graphics>
      <scale-graphics
        class="icon-margin"
        id="scale-down"
        type="down"
      ></scale-graphics>
      <toggle-menu class="icon-margin"></toggle-menu>
    </div>

    <!-- Bottom Menu -->
    <div class="selection-menu">
      <div class="marker">
        <img
          class="marker-sample"
          src="/assets/img/0.png"
          alt="sample marker"
          id="marker-image-1"
        />
        <rotation-controls
          id="rotation-marker-1"
          marker="1"
          type="embedded"
        ></rotation-controls>
        <div class="options" id="marker-options-1">
          <div class="triangle"></div>
          <enable-gestures class="gesture-icon" id="marker1"></enable-gestures>
        </div>
      </div>
      <span class="line"></span>
      <div class="marker">
        <img
          class="marker-sample left-margin"
          src="/assets/img/2.png"
          alt="sample marker"
          id="marker-image-2"
        />
        <rotation-controls
          id="rotation-marker-2"
          marker="2"
          type="embedded"
        ></rotation-controls>
        <div class="options" id="marker-options-2">
          <div class="triangle"></div>
          <enable-gestures class="gesture-icon" id="marker2"></enable-gestures>
        </div>
      </div>
      <div class="extra-info">
        <toggle-instructions class="extra-info-icon"></toggle-instructions>
        <toggle-description class="extra-info-icon"></toggle-description>
      </div>
    </div>

    <!-- Overlays -->
    <activity-overlay id="instructions" default="open" type="instructions">
      <span slot="title" data-i18n="macromolecules.proteinDNA.title"></span>
      <span
        slot="instructions"
        data-i18n="macromolecules.proteinDNA.instructions"
      ></span>
    </activity-overlay>

    <activity-overlay id="description" default="hidden" type="description">
      <span slot="title" data-i18n="macromolecules.proteinDNA.title"></span>
      <span
        slot="description"
        data-i18n="macromolecules.proteinDNA.description"
      ></span>
    </activity-overlay>

    <activity-overlay id="menu" default="hidden" type="menu">
    </activity-overlay>

    <a-scene
      embedded
      arjs="detectionMode: mono_and_matrix; matrixCodeType: 3x3_HAMMING63;"
      id="scene"
      renderer="logarithmicDepthBuffer: true;"
      gltf-model="dracoDecoderPath: https://www.gstatic.com/draco/v1/decoders/;"
      gesture-detector
      interactive-molecules
      rotate-molecules
      loader
      vr-mode-ui="enabled: false"
      loading-screen="enabled: false"
    >
      <a-assets>
        <!--struct assets-->
        <a-asset-item id="prot_dna" src="./models/prot-dna.gltf"></a-asset-item>
        <a-asset-item id="dna" src="./models/dna.gltf"></a-asset-item>
        <a-asset-item id="prot" src="./models/prot.gltf"></a-asset-item>
      </a-assets>

      <a-marker type="barcode" value="0" id="prot-A">
        <a-entity
          rotation="0 0 0"
          listen-to-flip
          listen-to-scale
          gesture-handler="linkedMarker: #marker1B"
          id="marker1A"
        >
          <a-entity
            id="protA"
            gltf-model="#prot"
            scale="-2 2 2"
            rotation="90 0 0"
            position="0 0 0"
            visible="true"
          ></a-entity>
          <a-sphere
            id="sp0A"
            radius="0.05"
            color="white"
            position="0.65 0.60 0.2"
            visible="false"
          ></a-sphere>
          <a-sphere
            id="sp1A"
            radius="0.05"
            color="white"
            position="-0.05 0.7 1.15"
            visible="false"
          ></a-sphere>
          <a-sphere
            id="sp2A"
            radius="0.05"
            color="white"
            position="0.2 0.9 -0.5"
            visible="false"
          ></a-sphere>
          <a-entity
            id="prot-dnaA"
            gltf-model="#prot_dna"
            scale="-2 2 2"
            rotation="90 0 0"
            position="0 0 0"
            visible="false"
          ></a-entity>
        </a-entity>
      </a-marker>

      <a-marker type="barcode" value="1" id="prot-B">
        <a-entity
          rotation="180 180 0"
          listen-to-flip
          listen-to-scale
          id="marker1B"
          gesture-handler="linkedMarker: #marker1A"
        >
          <a-entity
            id="protB"
            gltf-model="#prot"
            scale="-2 2 2"
            rotation="90 0 0"
            position="0 0 0"
            visible="true"
          ></a-entity>
          <a-sphere
            id="sp0B"
            radius="0.05"
            color="white"
            position="0.65 0.60 0.2"
            visible="false"
          ></a-sphere>
          <a-sphere
            id="sp1B"
            radius="0.05"
            color="white"
            position="-0.05 0.7 1.15"
            visible="false"
          ></a-sphere>
          <a-sphere
            id="sp2B"
            radius="0.05"
            color="white"
            position="0.2 0.9 -0.5"
            visible="false"
          ></a-sphere>
          <a-entity
            id="prot-dnaB"
            gltf-model="#prot_dna"
            scale="-2 2 2"
            rotation="90 0 0"
            position="0 0 0"
            visible="false"
          ></a-entity>
        </a-entity>
      </a-marker>

      <a-marker type="barcode" value="2" id="dna-A">
        <a-entity
          rotation="0 0 0"
          listen-to-flip
          listen-to-scale
          gesture-handler="linkedMarker: #marker2B"
          id="marker2A"
        >
          <a-entity
            id="dnaA"
            gltf-model="#dna"
            scale="-2 2 2"
            rotation="90 0 0"
            position="0 0 0"
            visible="true"
          ></a-entity>
          <a-sphere
            id="sd0A"
            radius="0.05"
            color="white"
            position="-0.5 -0.55 0.925"
            visible="false"
          ></a-sphere>
          <a-sphere
            id="sd1A"
            radius="0.05"
            color="white"
            position="-1.05 -0.4 1.7"
            visible="false"
          ></a-sphere>
          <a-sphere
            id="sd2A"
            radius="0.05"
            color="white"
            position="-0.9 0.5 -0.2"
            visible="false"
          ></a-sphere>
        </a-entity>
      </a-marker>

      <a-marker type="barcode" value="3" id="dna-B">
        <a-entity
          rotation="180 180 0"
          listen-to-flip
          listen-to-scale
          gesture-handler="linkedMarker: #marker2A"
          id="marker2B"
        >
          <a-entity
            id="dnaB"
            gltf-model="#dna"
            scale="-2 2 2"
            rotation="90 0 0"
            position="0 0 0"
            visible="true"
          ></a-entity>
          <a-sphere
            id="sd0B"
            radius="0.05"
            color="white"
            position="-0.5 -0.55 0.925"
            visible="false"
          ></a-sphere>
          <a-sphere
            id="sd1B"
            radius="0.05"
            color="white"
            position="-1.05 -0.4 1.7"
            visible="false"
          ></a-sphere>
          <a-sphere
            id="sd2B"
            radius="0.05"
            color="white"
            position="-0.9 0.5 -0.2"
            visible="false"
          ></a-sphere>
        </a-entity>
      </a-marker>

      <a-entity id="bridge-1">
        <a-sphere id="b01" radius="0.08" color="yellow" connector="src: #sp0A; dest: #sd0A; alpha: 0.1"></a-sphere>
        <a-sphere id="b02" radius="0.08" color="yellow" connector="src: #sp0A; dest: #sd0A; alpha: 0.2"></a-sphere>
        <a-sphere id="b03" radius="0.08" color="yellow" connector="src: #sp0A; dest: #sd0A; alpha: 0.3"></a-sphere>
        <a-sphere id="b04" radius="0.08" color="yellow" connector="src: #sp0A; dest: #sd0A; alpha: 0.4"></a-sphere>
        <a-sphere id="b05" radius="0.08" color="yellow" connector="src: #sp0A; dest: #sd0A; alpha: 0.5"></a-sphere>
        <a-sphere id="b06" radius="0.08" color="yellow" connector="src: #sp0A; dest: #sd0A; alpha: 0.6"></a-sphere>
        <a-sphere id="b07" radius="0.08" color="yellow" connector="src: #sp0A; dest: #sd0A; alpha: 0.7"></a-sphere>
        <a-sphere id="b08" radius="0.08" color="yellow" connector="src: #sp0A; dest: #sd0A; alpha: 0.8"></a-sphere>
        <a-sphere id="b09" radius="0.08" color="yellow" connector="src: #sp0A; dest: #sd0A; alpha: 0.9"></a-sphere>
      </a-entity>

      <a-entity id="bridge-2">
        <a-sphere id="b11" radius="0.08" color="yellow" connector="src: #sp1A; dest: #sd1A; alpha: 0.1"></a-sphere>
        <a-sphere id="b12" radius="0.08" color="yellow" connector="src: #sp1A; dest: #sd1A; alpha: 0.2"></a-sphere>
        <a-sphere id="b13" radius="0.08" color="yellow" connector="src: #sp1A; dest: #sd1A; alpha: 0.3"></a-sphere>
        <a-sphere id="b14" radius="0.08" color="yellow" connector="src: #sp1A; dest: #sd1A; alpha: 0.4"></a-sphere>
        <a-sphere id="b15" radius="0.08" color="yellow" connector="src: #sp1A; dest: #sd1A; alpha: 0.5"></a-sphere>
        <a-sphere id="b16" radius="0.08" color="yellow" connector="src: #sp1A; dest: #sd1A; alpha: 0.6"></a-sphere>
        <a-sphere id="b17" radius="0.08" color="yellow" connector="src: #sp1A; dest: #sd1A; alpha: 0.7"></a-sphere>
        <a-sphere id="b18" radius="0.08" color="yellow" connector="src: #sp1A; dest: #sd1A; alpha: 0.8"></a-sphere>
        <a-sphere id="b19" radius="0.08" color="yellow" connector="src: #sp1A; dest: #sd1A; alpha: 0.9"></a-sphere>
      </a-entity>

      <a-entity id="bridge-3">
        <a-sphere id="b21" radius="0.08" color="yellow" connector="src: #sp2A; dest: #sd2A; alpha: 0.1"></a-sphere>
        <a-sphere id="b22" radius="0.08" color="yellow" connector="src: #sp2A; dest: #sd2A; alpha: 0.2"></a-sphere>
        <a-sphere id="b23" radius="0.08" color="yellow" connector="src: #sp2A; dest: #sd2A; alpha: 0.3"></a-sphere>
        <a-sphere id="b24" radius="0.08" color="yellow" connector="src: #sp2A; dest: #sd2A; alpha: 0.4"></a-sphere>
        <a-sphere id="b25" radius="0.08" color="yellow" connector="src: #sp2A; dest: #sd2A; alpha: 0.5"></a-sphere>
        <a-sphere id="b26" radius="0.08" color="yellow" connector="src: #sp2A; dest: #sd2A; alpha: 0.6"></a-sphere>
        <a-sphere id="b27" radius="0.08" color="yellow" connector="src: #sp2A; dest: #sd2A; alpha: 0.7"></a-sphere>
        <a-sphere id="b28" radius="0.08" color="yellow" connector="src: #sp2A; dest: #sd2A; alpha: 0.8"></a-sphere>
        <a-sphere id="b29" radius="0.08" color="yellow" connector="src: #sp2A; dest: #sd2A; alpha: 0.9"></a-sphere>
      </a-entity>

      <a-entity camera></a-entity>
    </a-scene>
    <script src="/modules/utils/handleFlips.js"></script>
    <script src="/modules/utils/handleOverlays.js"></script>
    <script src="/modules/utils/handleGestures.js"></script>
  </body>
</html>
